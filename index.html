<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manda Mejor ‚Äî Maximiza cada euro que env√≠as a casa</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'cream': '#FDFBF7',
                        'cream-warm': '#FBF8F3',
                        'sand': '#F5F1EB',
                        'teal': {
                            50: '#F0FDFA',
                            100: '#CCFBF1',
                            200: '#99F6E4',
                            300: '#5EEAD4',
                            400: '#2DD4BF',
                            500: '#14B8A6',
                            600: '#0D9488',
                            700: '#0F766E',
                            800: '#115E59',
                            900: '#134E4A',
                            950: '#0A3D38',
                        },
                        'gold': {
                            100: '#FEF9E7',
                            200: '#FCF0C3',
                            300: '#F9E08E',
                            400: '#F6D055',
                            500: '#EAB308',
                            600: '#CA8A04',
                        },
                        'terra': {
                            400: '#E07B5B',
                            500: '#C9684A',
                            600: '#B85A3D',
                        },
                        'warm': {
                            50: '#FAFAF9',
                            100: '#F5F5F4',
                            200: '#E7E5E4',
                            300: '#D6D3D1',
                            400: '#A8A29E',
                            500: '#78716C',
                            600: '#57534E',
                            700: '#44403C',
                            800: '#292524',
                            900: '#1C1917',
                        }
                    },
                    fontFamily: {
                        'display': ['Instrument Sans', 'system-ui', 'sans-serif'],
                        'body': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Instrument+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * { font-family: 'Inter', system-ui, sans-serif; }
        h1, h2, h3, .font-display { font-family: 'Instrument Sans', system-ui, sans-serif; }
        html { scroll-behavior: smooth; }
        body { background-color: #FDFBF7; color: #1C1917; }
        
        /* Hero gradient */
        .hero-gradient {
            background: linear-gradient(135deg, #0F766E 0%, #0D9488 40%, #14B8A6 70%, #2DD4BF 100%);
            position: relative;
            overflow: hidden;
        }
        
        /* Floating symbols */
        .floating-symbols {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: 1;
        }
        
        .currency-symbol {
            position: absolute;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.15);
            animation: floatGentle 12s ease-in-out infinite;
        }
        
        @keyframes floatGentle {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            50% { transform: translateY(-10px) rotate(-3deg); }
            75% { transform: translateY(-25px) rotate(3deg); }
        }
        
        .currency-symbol:nth-child(1) { top: 10%; left: 5%; font-size: 3rem; animation-delay: 0s; }
        .currency-symbol:nth-child(2) { top: 20%; left: 15%; font-size: 2rem; animation-delay: 1s; }
        .currency-symbol:nth-child(3) { top: 5%; left: 25%; font-size: 2.5rem; animation-delay: 2s; }
        .currency-symbol:nth-child(4) { top: 30%; left: 8%; font-size: 1.8rem; animation-delay: 0.5s; }
        .currency-symbol:nth-child(5) { top: 15%; right: 20%; font-size: 2.2rem; animation-delay: 1.5s; }
        .currency-symbol:nth-child(6) { top: 8%; right: 10%; font-size: 3rem; animation-delay: 2.5s; }
        .currency-symbol:nth-child(7) { top: 25%; right: 5%; font-size: 2rem; animation-delay: 0.8s; }
        .currency-symbol:nth-child(8) { top: 40%; left: 3%; font-size: 1.5rem; animation-delay: 3s; }
        .currency-symbol:nth-child(9) { bottom: 30%; left: 10%; font-size: 2rem; animation-delay: 1.2s; }
        .currency-symbol:nth-child(10) { bottom: 20%; right: 8%; font-size: 2.5rem; animation-delay: 2.2s; }
        .currency-symbol:nth-child(11) { top: 50%; left: 20%; font-size: 1.8rem; animation-delay: 0.3s; }
        .currency-symbol:nth-child(12) { bottom: 40%; right: 15%; font-size: 2.2rem; animation-delay: 1.8s; }
        
        .currency-symbol:nth-child(odd) { color: rgba(255, 255, 255, 0.12); }
        .currency-symbol:nth-child(even) { color: rgba(255, 255, 255, 0.08); }
        .currency-symbol:nth-child(3n) { color: rgba(234, 179, 8, 0.15); }
        
        /* Header */
        .nav-header {
            transition: all 0.5s cubic-bezier(0.22, 1, 0.36, 1);
            background: transparent;
        }
        
        .nav-header.scrolled {
            background: rgba(253, 251, 247, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
        
        .nav-header.scrolled .nav-logo { color: #0F766E; }
        .nav-header.scrolled .nav-link { color: #44403C; }
        .nav-header.scrolled .nav-link:hover { color: #0D9488; }
        .nav-header.scrolled .mobile-menu-btn { color: #0F766E; }
        
        /* Force dark header on article pages */
        .nav-header.article-mode {
            background: rgba(253, 251, 247, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
        .nav-header.article-mode .nav-logo { color: #0F766E; }
        .nav-header.article-mode .nav-link { color: #44403C; }
        .nav-header.article-mode .nav-link:hover { color: #0D9488; }
        .nav-header.article-mode .mobile-menu-btn { color: #0F766E; }
        .nav-header.article-mode .logo-icon { background: linear-gradient(135deg, #0F766E, #0D9488); }
        
        /* Mobile menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            max-width: 320px;
            height: 100vh;
            background: white;
            z-index: 100;
            transition: right 0.4s cubic-bezier(0.22, 1, 0.36, 1);
            box-shadow: -10px 0 40px rgba(0,0,0,0.1);
        }
        
        .mobile-menu.open { right: 0; }
        
        .mobile-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .mobile-overlay.open { opacity: 1; visibility: visible; }
        
        /* Reveal animations */
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .reveal.active { opacity: 1; transform: translateY(0); }
        .reveal-delay-1 { transition-delay: 0.1s; }
        .reveal-delay-2 { transition-delay: 0.2s; }
        .reveal-delay-3 { transition-delay: 0.3s; }
        
        .stagger > * {
            opacity: 0;
            transform: translateY(25px);
            transition: all 0.7s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .stagger.active > *:nth-child(1) { transition-delay: 0.1s; opacity: 1; transform: translateY(0); }
        .stagger.active > *:nth-child(2) { transition-delay: 0.2s; opacity: 1; transform: translateY(0); }
        .stagger.active > *:nth-child(3) { transition-delay: 0.3s; opacity: 1; transform: translateY(0); }
        .stagger.active > *:nth-child(4) { transition-delay: 0.4s; opacity: 1; transform: translateY(0); }
        .stagger.active > *:nth-child(5) { transition-delay: 0.5s; opacity: 1; transform: translateY(0); }
        
        /* Calculator card */
        .calculator-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02), 0 12px 24px rgba(15, 118, 110, 0.08), 0 32px 64px rgba(0,0,0,0.06);
            transition: all 0.5s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .calculator-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.03), 0 20px 40px rgba(15, 118, 110, 0.12), 0 48px 80px rgba(0,0,0,0.08);
        }
        
        /* Inputs */
        .input-field {
            background: #F5F1EB;
            border: 2px solid transparent;
            border-radius: 14px;
            transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .input-field:hover { background: #F0EBE3; }
        
        .input-field:focus {
            outline: none;
            background: white;
            border-color: #14B8A6;
            box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.12);
        }
        
        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, #0F766E 0%, #0D9488 100%);
            border-radius: 14px;
            transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before { left: 100%; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(15, 118, 110, 0.35); }
        
        .freq-btn {
            background: white;
            border: 2px solid #E7E5E4;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
            color: #57534E;
        }
        
        .freq-btn:hover:not(.freq-active) { border-color: #14B8A6; color: #0D9488; background: #F0FDFA; }
        
        .freq-active {
            background: linear-gradient(135deg, #0F766E 0%, #0D9488 100%);
            border-color: transparent;
            color: white;
            box-shadow: 0 4px 12px rgba(15, 118, 110, 0.3);
        }
        
        /* Cards */
        .card-base {
            background: white;
            border-radius: 20px;
            border: 1px solid rgba(0,0,0,0.04);
            transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .card-base:hover {
            border-color: rgba(20, 184, 166, 0.15);
            box-shadow: 0 12px 32px rgba(15, 118, 110, 0.08);
            transform: translateY(-3px);
        }
        
        .feature-icon {
            background: linear-gradient(135deg, #F0FDFA 0%, #CCFBF1 100%);
            border: 1px solid rgba(20, 184, 166, 0.15);
        }
        
        /* Resource cards */
        .resource-card {
            display: grid;
            gap: 1.5rem;
            align-items: center;
            padding: 1.5rem;
            background: white;
            border-radius: 20px;
            border: 1px solid rgba(0,0,0,0.04);
            transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
            cursor: pointer;
        }
        
        .resource-card:hover {
            border-color: rgba(20, 184, 166, 0.2);
            box-shadow: 0 16px 40px rgba(15, 118, 110, 0.1);
            transform: translateY(-3px);
        }
        
        @media (min-width: 768px) {
            .resource-card { grid-template-columns: 1fr auto; padding: 2rem; }
            .resource-card:nth-child(even) { grid-template-columns: auto 1fr; }
            .resource-card:nth-child(even) .resource-visual { order: -1; }
        }
        
        .resource-visual {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        @media (min-width: 768px) { .resource-visual { width: 120px; height: 120px; } }
        
        /* Result cards */
        .result-card {
            background: white;
            border-radius: 18px;
            border: 1px solid rgba(0,0,0,0.04);
            transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        .result-card:hover { box-shadow: 0 12px 32px rgba(0,0,0,0.08); transform: translateY(-3px); }
        
        .best-deal {
            border: 2px solid #14B8A6;
            background: linear-gradient(180deg, rgba(20, 184, 166, 0.04) 0%, transparent 100%);
        }
        
        .best-deal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #0F766E, #14B8A6, #2DD4BF);
            border-radius: 16px 16px 0 0;
        }
        
        .badge-best {
            background: linear-gradient(135deg, #0F766E 0%, #0D9488 100%);
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.35rem 0.75rem;
            border-radius: 999px;
            box-shadow: 0 4px 10px rgba(15, 118, 110, 0.3);
        }
        
        /* Thermometer */
        .thermometer-track {
            background: linear-gradient(90deg, #FECACA, #FEF3C7, #CCFBF1);
            border-radius: 999px;
            height: 12px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .thermometer-fill { height: 100%; border-radius: 999px; transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1); }
        
        .alert-excellent { background: linear-gradient(135deg, #F0FDFA, #CCFBF1); border: 1px solid #99F6E4; }
        .alert-low { background: linear-gradient(135deg, #FEF2F2, #FECACA); border: 1px solid #FECACA; }
        .alert-stable { background: linear-gradient(135deg, #FFFBEB, #FEF3C7); border: 1px solid #FDE68A; }
        
        /* Author section */
        .author-card {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #FDFBF7 0%, #F0FDFA 100%);
        }
        
        .author-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #0F766E, #14B8A6, #EAB308);
        }
        
        .author-photo {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            background: linear-gradient(135deg, #CCFBF1, #F0FDFA);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid white;
            box-shadow: 0 8px 24px rgba(15, 118, 110, 0.15);
        }
        
        @media (min-width: 768px) { .author-photo { width: 140px; height: 140px; } }
        
        /* Loading */
        .loading {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .gradient-text {
            background: linear-gradient(135deg, #F0FDFA 0%, #2DD4BF 30%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-text-dark {
            background: linear-gradient(135deg, #0F766E 0%, #14B8A6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .section-cream { background: #FDFBF7; }
        .section-sand { background: linear-gradient(180deg, #F5F1EB 0%, #FDFBF7 100%); }
        
        /* ================================
           ARTICLE STYLES
           ================================ */
        .article-container {
            display: none;
        }
        
        .article-container.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .article-hero {
            background: linear-gradient(135deg, #F0FDFA 0%, #CCFBF1 50%, #F0FDFA 100%);
            position: relative;
            overflow: hidden;
        }
        
        .article-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 60%;
            height: 200%;
            background: radial-gradient(circle, rgba(20, 184, 166, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }
        
        .article-content {
            max-width: 720px;
            margin: 0 auto;
        }
        
        .article-content p {
            font-size: 1.0625rem;
            line-height: 1.8;
            color: #44403C;
            margin-bottom: 1.5rem;
        }
        
        .article-content h2 {
            font-family: 'Instrument Sans', system-ui, sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: #0F766E;
            margin: 2.5rem 0 1rem;
        }
        
        .article-content h3 {
            font-family: 'Instrument Sans', system-ui, sans-serif;
            font-size: 1.25rem;
            font-weight: 600;
            color: #1C1917;
            margin: 2rem 0 0.75rem;
        }
        
        .article-content ul, .article-content ol {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
        }
        
        .article-content li {
            font-size: 1.0625rem;
            line-height: 1.8;
            color: #44403C;
            margin-bottom: 0.5rem;
        }
        
        .article-content strong {
            color: #1C1917;
            font-weight: 600;
        }
        
        /* Callout boxes */
        .callout {
            border-radius: 16px;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
        }
        
        .callout-tip {
            background: linear-gradient(135deg, #F0FDFA, #CCFBF1);
            border-left: 4px solid #14B8A6;
        }
        
        .callout-warning {
            background: linear-gradient(135deg, #FEF9E7, #FCF0C3);
            border-left: 4px solid #EAB308;
        }
        
        .callout-example {
            background: linear-gradient(135deg, #F5F1EB, #FDFBF7);
            border-left: 4px solid #0F766E;
        }
        
        .callout-title {
            font-family: 'Instrument Sans', system-ui, sans-serif;
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .callout-tip .callout-title { color: #0F766E; }
        .callout-warning .callout-title { color: #CA8A04; }
        .callout-example .callout-title { color: #0F766E; }
        
        .callout p:last-child { margin-bottom: 0; }
        
        /* Checklist */
        .checklist {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin: 2rem 0;
            box-shadow: 0 4px 16px rgba(0,0,0,0.04);
        }
        
        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid #E7E5E4;
        }
        
        .checklist-item:last-child { border-bottom: none; }
        
        .checklist-icon {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #0F766E, #14B8A6);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        /* Error cards */
        .error-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 16px rgba(0,0,0,0.04);
            border-left: 4px solid #C9684A;
        }
        
        .error-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #C9684A, #E07B5B);
            color: white;
            font-weight: 700;
            border-radius: 8px;
            margin-right: 0.75rem;
        }
        
        .solution-box {
            background: linear-gradient(135deg, #F0FDFA, #CCFBF1);
            border-radius: 12px;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        /* Sidebar illustration */
        .article-sidebar {
            position: sticky;
            top: 100px;
        }
        
        .illustration-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #CCFBF1, #F0FDFA);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            box-shadow: 0 8px 32px rgba(15, 118, 110, 0.1);
        }
        
        /* Back button */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #0F766E;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            transition: all 0.3s;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        
        .back-btn:hover {
            background: #F0FDFA;
            transform: translateX(-4px);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Mobile Overlay -->
    <div id="mobileOverlay" class="mobile-overlay" onclick="closeMobileMenu()"></div>
    
    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu">
        <div class="p-6">
            <div class="flex items-center justify-between mb-10">
                <span class="text-xl font-semibold text-teal-700 font-display">Manda Mejor</span>
                <button onclick="closeMobileMenu()" class="p-2 text-warm-500 hover:text-warm-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <nav class="space-y-2">
                <a href="#" onclick="navigateHome(); closeMobileMenu();" class="block px-4 py-3 text-lg font-medium text-warm-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors">Inicio</a>
                <a href="#calculator" onclick="navigateHome(); closeMobileMenu();" class="block px-4 py-3 text-lg font-medium text-warm-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors">Calculadora</a>
                <a href="#about" onclick="navigateHome(); closeMobileMenu();" class="block px-4 py-3 text-lg font-medium text-warm-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors">Nosotros</a>
                <a href="#resources" onclick="navigateHome(); closeMobileMenu();" class="block px-4 py-3 text-lg font-medium text-warm-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors">Recursos</a>
            </nav>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="navbar" class="nav-header fixed top-0 left-0 right-0 z-50 py-4">
        <div class="container mx-auto px-5 md:px-8 max-w-6xl">
            <div class="flex items-center justify-between">
                <a href="#" onclick="navigateHome(); return false;" class="flex items-center space-x-3">
                    <div class="logo-icon w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center border border-white/20">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </div>
                    <span class="nav-logo text-xl font-semibold text-white font-display transition-colors">Manda Mejor</span>
                </a>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#about" onclick="navigateHome();" class="nav-link text-white/90 hover:text-white font-medium transition-colors">Nosotros</a>
                    <a href="#resources" onclick="navigateHome();" class="nav-link text-white/90 hover:text-white font-medium transition-colors">Recursos</a>
                </div>
                
                <button onclick="openMobileMenu()" class="mobile-menu-btn md:hidden text-white p-2 -mr-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- ================================
         MAIN CONTENT (HOME)
         ================================ -->
    <main id="homeContent">
        <!-- Hero Section -->
        <section class="hero-gradient pt-24 md:pt-28 pb-16 md:pb-24 min-h-[90vh] flex items-center">
            <div class="floating-symbols">
                <span class="currency-symbol">‚Ç¨</span>
                <span class="currency-symbol">$</span>
                <span class="currency-symbol">‚Ç¨</span>
                <span class="currency-symbol">$</span>
                <span class="currency-symbol">‚Ç¨</span>
                <span class="currency-symbol">$</span>
                <span class="currency-symbol">‚Ç¨</span>
                <span class="currency-symbol">$</span>
                <span class="currency-symbol">‚Ç¨</span>
                <span class="currency-symbol">$</span>
                <span class="currency-symbol">‚Ç¨</span>
                <span class="currency-symbol">$</span>
            </div>
            
            <div class="container mx-auto px-5 md:px-8 max-w-6xl relative z-10">
                <div class="grid lg:grid-cols-2 gap-10 lg:gap-16 items-center">
                    <div class="text-center lg:text-left">
                        <div class="reveal inline-flex items-center space-x-2 bg-white/15 backdrop-blur border border-white/20 text-white rounded-full px-4 py-2 mb-6">
                            <span class="w-2 h-2 bg-gold-400 rounded-full animate-pulse"></span>
                            <span class="text-sm font-medium">Gratis y sin registro</span>
                        </div>
                        
                        <h1 class="reveal reveal-delay-1 font-display text-4xl md:text-5xl lg:text-[3.25rem] font-semibold text-white leading-[1.1] mb-6 tracking-tight">
                            Que tu esfuerzo<br>
                            <span class="gradient-text">llegue completo</span><br>
                            a quienes amas
                        </h1>
                        
                        <p class="reveal reveal-delay-2 text-lg md:text-xl text-white/80 mb-8 max-w-lg mx-auto lg:mx-0 leading-relaxed">
                            Compara en segundos las comisiones reales de todos los servicios de remesas. 
                            <strong class="text-white">Descubre cu√°nto m√°s puede recibir tu familia.</strong>
                        </p>
                        
                        <div class="reveal reveal-delay-3 flex flex-wrap gap-4 justify-center lg:justify-start">
                            <div class="flex items-center space-x-2 text-white/80">
                                <svg class="w-5 h-5 text-gold-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                <span class="text-sm font-medium">Tasas en tiempo real</span>
                            </div>
                            <div class="flex items-center space-x-2 text-white/80">
                                <svg class="w-5 h-5 text-gold-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                <span class="text-sm font-medium">Sin publicidad</span>
                            </div>
                            <div class="flex items-center space-x-2 text-white/80">
                                <svg class="w-5 h-5 text-gold-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                <span class="text-sm font-medium">100% transparente</span>
                            </div>
                        </div>
                    </div>
                    
                    <div id="calculator" class="reveal reveal-delay-2">
                        <div class="calculator-card p-5 md:p-7">
                            <div class="mb-6">
                                <h2 class="font-display text-xl md:text-2xl font-semibold text-warm-800 mb-1">Calcula tu ahorro</h2>
                                <p class="text-warm-500 text-sm">Compara y encuentra la mejor opci√≥n</p>
                            </div>
                            
                            <div class="space-y-4">
                                <div>
                                    <label for="amount" class="block text-sm font-medium text-warm-700 mb-2">Monto a enviar</label>
                                    <div class="relative">
                                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-semibold text-warm-800">‚Ç¨</span>
                                        <input type="number" id="amount" value="500" min="10" max="10000" step="10" class="input-field w-full pl-12 pr-4 py-3.5 text-2xl font-semibold text-warm-800" placeholder="500">
                                    </div>
                                    <p class="text-xs text-warm-400 mt-1.5">Entre ‚Ç¨10 y ‚Ç¨10,000</p>
                                </div>
                                
                                <div class="relative" id="custom-select-container">
                                    <label class="block text-sm font-medium text-warm-700 mb-2">Pa√≠s destino</label>
                                    <div onclick="toggleDropdown()" id="selected-country-display" class="input-field flex items-center justify-between w-full px-4 py-3.5 cursor-pointer">
                                        <div class="flex items-center">
                                            <img id="current-flag-img" src="https://flagcdn.com/w40/ve.png" class="w-6 h-auto mr-3 rounded shadow-sm" alt="">
                                            <span id="current-country-text" class="font-medium text-warm-800">Venezuela</span>
                                        </div>
                                        <svg id="dropdown-arrow-icon" class="w-5 h-5 text-warm-400 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                        </svg>
                                    </div>
                                    
                                    <div id="custom-dropdown-list" class="hidden absolute z-50 w-full mt-2 bg-white rounded-xl shadow-xl border border-warm-200 overflow-hidden">
                                        <div onclick="selectCountry('VES', 've', 'Venezuela')" class="flex items-center px-4 py-3 hover:bg-teal-50 cursor-pointer transition-colors">
                                            <img src="https://flagcdn.com/w40/ve.png" class="w-5 h-auto mr-3 rounded" alt=""><span class="font-medium">Venezuela</span>
                                        </div>
                                        <div onclick="selectCountry('COP', 'co', 'Colombia')" class="flex items-center px-4 py-3 hover:bg-teal-50 cursor-pointer transition-colors">
                                            <img src="https://flagcdn.com/w40/co.png" class="w-5 h-auto mr-3 rounded" alt=""><span class="font-medium">Colombia</span>
                                        </div>
                                        <div onclick="selectCountry('ARS', 'ar', 'Argentina')" class="flex items-center px-4 py-3 hover:bg-teal-50 cursor-pointer transition-colors">
                                            <img src="https://flagcdn.com/w40/ar.png" class="w-5 h-auto mr-3 rounded" alt=""><span class="font-medium">Argentina</span>
                                        </div>
                                        <div onclick="selectCountry('PEN', 'pe', 'Per√∫')" class="flex items-center px-4 py-3 hover:bg-teal-50 cursor-pointer transition-colors">
                                            <img src="https://flagcdn.com/w40/pe.png" class="w-5 h-auto mr-3 rounded" alt=""><span class="font-medium">Per√∫</span>
                                        </div>
                                        <div onclick="selectCountry('DOP', 'do', 'Rep. Dominicana')" class="flex items-center px-4 py-3 hover:bg-teal-50 cursor-pointer transition-colors">
                                            <img src="https://flagcdn.com/w40/do.png" class="w-5 h-auto mr-3 rounded" alt=""><span class="font-medium">Rep. Dominicana</span>
                                        </div>
                                    </div>
                                    <input type="hidden" id="destination" value="VES">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-warm-700 mb-2">Frecuencia de env√≠o</label>
                                    <div class="grid grid-cols-3 gap-2">
                                        <button onclick="setFrequency('once')" id="btn-once" class="freq-btn px-2 py-2.5 text-sm font-medium">√önico</button>
                                        <button onclick="setFrequency('monthly')" id="btn-monthly" class="freq-btn freq-active px-2 py-2.5 text-sm font-medium">Mensual</button>
                                        <button onclick="setFrequency('annual')" id="btn-annual" class="freq-btn px-2 py-2.5 text-sm font-medium">Anual</button>
                                    </div>
                                </div>
                                
                                <button onclick="calculateRemittances()" id="calculateBtn" class="btn-primary w-full text-white font-semibold text-base py-3.5 flex items-center justify-center space-x-2 mt-2">
                                    <span id="btnText">Comparar servicios</span>
                                    <svg id="btnArrow" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                                    </svg>
                                    <div id="btnLoader" class="loading hidden"></div>
                                </button>
                                
                                <div id="rateIndicator" class="flex items-center justify-center space-x-2 py-2">
                                    <svg class="w-4 h-4 text-warm-400 animate-spin" fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
                                    </svg>
                                    <span class="text-xs text-warm-400">Cargando tasas...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section id="resultsSection" class="hidden py-16 md:py-20 section-sand">
            <div class="container mx-auto px-5 md:px-8 max-w-5xl">
                <div id="marketPulse" class="card-base p-5 md:p-7 mb-6 shadow-lg" style="display: none;">
                    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-5">
                        <div class="flex items-center space-x-3">
                            <div class="w-11 h-11 feature-icon rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-display text-lg font-semibold text-warm-800">An√°lisis de mercado</h3>
                                <p class="text-xs text-warm-500">Comparaci√≥n con media de 14 d√≠as</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <button onclick="refreshHistoricalData()" id="refreshHistoryBtn" class="text-xs text-warm-500 hover:text-teal-600 px-3 py-1.5 rounded-lg border border-warm-200 hover:border-teal-300 hover:bg-teal-50 transition-all">‚Üª Actualizar</button>
                            <div id="pulseStatus" class="px-3 py-1.5 rounded-lg text-xs font-medium"></div>
                        </div>
                    </div>
                    
                    <div class="mb-5">
                        <div class="thermometer-track">
                            <div id="thermometerFill" class="thermometer-fill" style="width: 50%; background: linear-gradient(90deg, #FCD34D, #FBBF24);"></div>
                        </div>
                        <div class="flex justify-between text-xs text-warm-400 mt-2 font-medium">
                            <span>Baja</span><span>Normal</span><span>Excelente</span>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4">
                        <div id="pulseMessage" class="alert-stable rounded-xl p-4">
                            <div class="flex items-start space-x-3">
                                <span id="pulseEmoji" class="text-xl">üìä</span>
                                <div>
                                    <p class="font-semibold text-warm-800 text-sm" id="pulseTitle">Analizando...</p>
                                    <p class="text-xs text-warm-600 mt-1" id="pulseRecommendation">Cargando datos...</p>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-teal-50 rounded-xl p-3">
                                <p class="text-xs text-warm-500 font-medium mb-1">Tasa actual</p>
                                <p class="text-lg font-semibold text-warm-800" id="currentRateDisplay">-</p>
                            </div>
                            <div class="bg-teal-50 rounded-xl p-3">
                                <p class="text-xs text-warm-500 font-medium mb-1">Media 14 d√≠as</p>
                                <p class="text-lg font-semibold text-warm-800" id="avgRateDisplay">-</p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="savingsImpact" class="mt-4 bg-teal-50 rounded-xl p-4 border border-teal-100" style="display: none;">
                        <p class="text-sm text-teal-800" id="savingsText">-</p>
                    </div>
                    
                    <p id="historyDays" class="text-center text-xs text-warm-400 mt-4">Datos basados en hist√≥rico de 14 d√≠as</p>
                </div>
                
                <div id="summaryCard" class="card-base border-2 border-teal-400 p-5 md:p-7 mb-6 shadow-lg"></div>
                
                <div class="mb-6">
                    <h3 class="font-display text-lg font-semibold text-warm-800 mb-5 flex items-center">
                        <span class="w-9 h-9 feature-icon rounded-lg flex items-center justify-center mr-3">
                            <svg class="w-4 h-4 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                        </span>
                        Comparaci√≥n detallada
                    </h3>
                    <div id="resultsGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                </div>
                
                <div class="card-base bg-gradient-to-br from-teal-50 to-cream p-5 md:p-6 border border-teal-100">
                    <div class="flex items-start space-x-4">
                        <div class="w-9 h-9 feature-icon rounded-lg flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-teal-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="font-display font-semibold text-warm-800 mb-1 text-sm">¬øSab√≠as que...?</h4>
                            <p id="insightText" class="text-warm-600 leading-relaxed text-sm"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-16 md:py-24 section-cream">
            <div class="container mx-auto px-5 md:px-8 max-w-5xl">
                <div class="text-center mb-12 md:mb-16">
                    <span class="reveal inline-block text-sm font-medium text-teal-600 mb-3">Sobre el proyecto</span>
                    <h2 class="reveal reveal-delay-1 font-display text-2xl md:text-4xl font-semibold text-warm-900 mb-5 tracking-tight">
                        Una herramienta pensada para<br>
                        <span class="gradient-text-dark">quienes dan todo por su familia</span>
                    </h2>
                    <p class="reveal reveal-delay-2 text-base md:text-lg text-warm-600 max-w-2xl mx-auto leading-relaxed">
                        Cada euro que env√≠as representa horas de trabajo, sacrificio y amor. 
                        Manda Mejor existe para que ese esfuerzo llegue completo a quienes m√°s quieres.
                    </p>
                </div>
                
                <div class="reveal stagger grid md:grid-cols-3 gap-6 mb-16">
                    <div class="text-center">
                        <div class="w-14 h-14 feature-icon rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-teal-500/10">
                            <svg class="w-7 h-7 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                            </svg>
                        </div>
                        <h3 class="font-display text-base font-semibold text-warm-800 mb-2">100% transparente</h3>
                        <p class="text-warm-600 text-sm leading-relaxed">Mostramos el costo real total: la comisi√≥n visible m√°s el margen oculto en el tipo de cambio.</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-14 h-14 feature-icon rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-teal-500/10">
                            <svg class="w-7 h-7 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3 class="font-display text-base font-semibold text-warm-800 mb-2">Datos actualizados</h3>
                        <p class="text-warm-600 text-sm leading-relaxed">Tasas del Banco Central Europeo actualizadas al momento. Informaci√≥n precisa y confiable.</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-14 h-14 feature-icon rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-teal-500/10">
                            <svg class="w-7 h-7 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="font-display text-base font-semibold text-warm-800 mb-2">Iniciativa gratuita</h3>
                        <p class="text-warm-600 text-sm leading-relaxed">Sin anuncios, sin registro, sin vender datos. Un proyecto personal para la comunidad.</p>
                    </div>
                </div>
                
                <div class="reveal author-card card-base p-6 md:p-10 shadow-xl">
                    <div class="flex flex-col md:flex-row items-center gap-6 md:gap-10">
                        <div class="author-photo flex-shrink-0">
                            <svg class="w-12 h-12 text-teal-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </div>
                        
                        <div class="text-center md:text-left">
                            <p class="text-base md:text-lg text-warm-600 leading-relaxed mb-5 italic">
                                "Como latina en Espa√±a, entiendo lo que significa enviar dinero a casa. 
                                Cada transferencia lleva consigo el peso de la distancia y el amor por los nuestros. 
                                Cre√© Manda Mejor para que todos podamos tomar decisiones informadas y que 
                                <strong class="text-warm-800">nuestra familia reciba el m√°ximo posible</strong>."
                            </p>
                            <div>
                                <p class="font-display font-semibold text-warm-800">Ariana Acosta</p>
                                <p class="text-sm text-warm-500">Creadora de Manda Mejor</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resources Section -->
        <section id="resources" class="py-16 md:py-24 section-sand">
            <div class="container mx-auto px-5 md:px-8 max-w-5xl">
                <div class="text-center mb-12">
                    <span class="reveal inline-block text-sm font-medium text-teal-600 mb-3">Aprende m√°s</span>
                    <h2 class="reveal reveal-delay-1 font-display text-2xl md:text-3xl font-semibold text-warm-900 mb-3 tracking-tight">Recursos adicionales</h2>
                    <p class="reveal reveal-delay-2 text-warm-600 max-w-xl mx-auto text-sm">Gu√≠as pr√°cticas para enviar dinero de forma m√°s inteligente</p>
                </div>
                
                <div class="reveal stagger space-y-4">
                    <!-- Resource 1 -->
                    <div class="resource-card" onclick="showArticle('article1')">
                        <div>
                            <span class="inline-block text-xs font-semibold text-teal-600 uppercase tracking-wide mb-2">Gu√≠a b√°sica</span>
                            <h3 class="font-display text-lg md:text-xl font-semibold text-warm-800 mb-2">C√≥mo entender la tasa interbancaria</h3>
                            <p class="text-warm-600 leading-relaxed text-sm mb-3">La tasa interbancaria es el tipo de cambio real que usan los bancos entre s√≠. Es la referencia m√°s justa para comparar servicios.</p>
                            <span class="inline-flex items-center text-teal-600 font-medium text-sm">
                                Leer art√≠culo
                                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="resource-visual bg-gradient-to-br from-teal-100 to-teal-200">
                            <svg class="w-10 h-10 md:w-12 md:h-12 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Resource 2 -->
                    <div class="resource-card" onclick="showArticle('article2')">
                        <div>
                            <span class="inline-block text-xs font-semibold text-gold-600 uppercase tracking-wide mb-2">Evita errores</span>
                            <h3 class="font-display text-lg md:text-xl font-semibold text-warm-800 mb-2">Gu√≠a para evitar comisiones ocultas</h3>
                            <p class="text-warm-600 leading-relaxed text-sm mb-3">Muchos servicios anuncian "0% comisi√≥n" pero compensan con un tipo de cambio desfavorable. Aprende a detectarlo.</p>
                            <span class="inline-flex items-center text-teal-600 font-medium text-sm">
                                Leer art√≠culo
                                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="resource-visual bg-gradient-to-br from-gold-100 to-gold-200">
                            <svg class="w-10 h-10 md:w-12 md:h-12 text-gold-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Resource 3 -->
                    <div class="resource-card" onclick="showArticle('article3')">
                        <div>
                            <span class="inline-block text-xs font-semibold text-terra-500 uppercase tracking-wide mb-2">Imprescindible</span>
                            <h3 class="font-display text-lg md:text-xl font-semibold text-warm-800 mb-2">5 errores comunes al enviar remesas y c√≥mo evitarlos</h3>
                            <p class="text-warm-600 leading-relaxed text-sm mb-3">Desde no comparar servicios hasta ignorar el margen de cambio. Estos errores pueden costarte cientos de euros al a√±o.</p>
                            <span class="inline-flex items-center text-teal-600 font-medium text-sm">
                                Leer art√≠culo
                                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="resource-visual bg-gradient-to-br from-terra-400/20 to-terra-400/40">
                            <svg class="w-10 h-10 md:w-12 md:h-12 text-terra-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Resource 4 -->
                    <div class="resource-card" onclick="showArticle('article4')">
                        <div>
                            <span class="inline-block text-xs font-semibold text-teal-600 uppercase tracking-wide mb-2">Consejos</span>
                            <h3 class="font-display text-lg md:text-xl font-semibold text-warm-800 mb-2">Cu√°ndo es el mejor momento para enviar dinero</h3>
                            <p class="text-warm-600 leading-relaxed text-sm mb-3">Las tasas de cambio fluct√∫an constantemente. Hay patrones que pueden ayudarte a maximizar el valor de tus transferencias.</p>
                            <span class="inline-flex items-center text-teal-600 font-medium text-sm">
                                Leer art√≠culo
                                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="resource-visual bg-gradient-to-br from-teal-100 to-gold-100">
                            <svg class="w-10 h-10 md:w-12 md:h-12 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ================================
         ARTICLE 1: Tasa Interbancaria
         ================================ -->
    <div id="article1" class="article-container">
        <div class="article-hero pt-24 pb-16 md:pt-28 md:pb-20">
            <div class="container mx-auto px-5 md:px-8 max-w-5xl">
                <button onclick="navigateHome()" class="back-btn mb-8">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    Volver a inicio
                </button>
                
                <div class="grid lg:grid-cols-3 gap-10 items-center">
                    <div class="lg:col-span-2">
                        <span class="inline-block bg-teal-600 text-white text-xs font-semibold uppercase tracking-wide px-3 py-1 rounded-full mb-4">Gu√≠a b√°sica</span>
                        <h1 class="font-display text-3xl md:text-4xl lg:text-5xl font-semibold text-warm-900 leading-tight mb-4">C√≥mo entender la tasa interbancaria</h1>
                        <p class="text-lg text-warm-600">La clave para saber si te est√°n cobrando de m√°s en tus transferencias internacionales.</p>
                    </div>
                    <div class="hidden lg:block">
                        <div class="illustration-circle">
                            <svg class="w-24 h-24 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="py-12 md:py-16 section-cream">
            <div class="container mx-auto px-5 md:px-8">
                <div class="article-content">
                    <p><strong>¬øAlguna vez te has preguntado por qu√© el tipo de cambio que te ofrece tu servicio de remesas es diferente al que ves en Google?</strong> La respuesta est√° en la tasa interbancaria, y entenderla es fundamental para que no te cobren de m√°s.</p>
                    
                    <h2>¬øQu√© es exactamente la tasa interbancaria?</h2>
                    
                    <p>La tasa interbancaria, tambi√©n conocida como "mid-market rate" o tasa media del mercado, es el punto medio entre el precio de compra y venta de una divisa en los mercados financieros globales. Es, en pocas palabras, <strong>el tipo de cambio "real" y justo</strong>.</p>
                    
                    <p>Cuando un banco grande como el Santander necesita comprar d√≥lares para sus operaciones, usa esta tasa. Cuando Google o tu app de finanzas te muestra el tipo de cambio EUR/USD, est√°n mostrando esta tasa.</p>
                    
                    <div class="callout callout-example">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Ejemplo pr√°ctico
                        </div>
                        <p>Imagina que la tasa interbancaria EUR/COP es de 4.500 pesos por euro. Si env√≠as ‚Ç¨100, con la tasa real tu familia deber√≠a recibir <strong>450.000 pesos colombianos</strong>.</p>
                        <p>Sin embargo, si el servicio de remesas te ofrece una tasa de 4.350, tu familia recibir√° solo 435.000 pesos. Esos 15.000 pesos de diferencia (unos ‚Ç¨3,33) son el "margen oculto" que se queda la empresa.</p>
                    </div>
                    
                    <h2>¬øPor qu√© ninguna empresa te da la tasa interbancaria exacta?</h2>
                    
                    <p>Las empresas de remesas son negocios, y necesitan ganar dinero para operar. Sus costes incluyen:</p>
                    
                    <ul>
                        <li>Infraestructura tecnol√≥gica y seguridad</li>
                        <li>Cumplimiento de regulaciones en m√∫ltiples pa√≠ses</li>
                        <li>Red de agentes y corresponsales</li>
                        <li>Atenci√≥n al cliente</li>
                    </ul>
                    
                    <p>La cuesti√≥n no es que ganen dinero, <strong>sino cu√°nto ganan y si son transparentes al respecto</strong>.</p>
                    
                    <div class="callout callout-tip">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                            ¬øSab√≠as que...?
                        </div>
                        <p><strong>Wise (antes TransferWise) es el √∫nico servicio importante que usa la tasa interbancaria exacta</strong> y cobra solo una comisi√≥n fija transparente. Por eso suele salir como la mejor opci√≥n en nuestras comparaciones.</p>
                    </div>
                    
                    <h2>C√≥mo calcular el margen oculto</h2>
                    
                    <p>Es m√°s f√°cil de lo que parece. Sigue estos pasos:</p>
                    
                    <ol>
                        <li><strong>Busca la tasa interbancaria actual</strong> en Google (escribe "EUR a [tu moneda]")</li>
                        <li><strong>Mira la tasa que te ofrece</strong> tu servicio de remesas</li>
                        <li><strong>Calcula la diferencia:</strong> (Tasa real - Tasa ofrecida) / Tasa real √ó 100</li>
                    </ol>
                    
                    <div class="callout callout-example">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                            C√°lculo real
                        </div>
                        <p>Tasa interbancaria EUR/VES: <strong>45,00</strong><br>
                        Tasa que te ofrece la remesadora: <strong>43,20</strong><br>
                        Margen oculto: (45 - 43,20) / 45 √ó 100 = <strong>4%</strong></p>
                        <p>Ese 4% extra es lo que te cobran "sin que lo veas" adem√°s de cualquier comisi√≥n que ya te hayan cobrado.</p>
                    </div>
                    
                    <h2>Conclusi√≥n: La transparencia es tu mejor aliada</h2>
                    
                    <p>No todos los servicios son iguales. Algunos cobran una comisi√≥n peque√±a pero usan un tipo de cambio malo. Otros no cobran comisi√≥n pero su tasa es mucho peor que la del mercado.</p>
                    
                    <p><strong>Lo importante es calcular el costo total:</strong> comisi√≥n + margen de cambio. Eso es exactamente lo que hacemos en Manda Mejor por ti.</p>
                    
                    <div class="mt-12 text-center">
                        <button onclick="navigateHome()" class="btn-primary inline-flex items-center text-white font-semibold px-8 py-4">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Comparar servicios ahora
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================
         ARTICLE 2: Comisiones Ocultas
         ================================ -->
    <div id="article2" class="article-container">
        <div class="article-hero pt-24 pb-16 md:pt-28 md:pb-20">
            <div class="container mx-auto px-5 md:px-8 max-w-5xl">
                <button onclick="navigateHome()" class="back-btn mb-8">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    Volver a inicio
                </button>
                
                <div class="grid lg:grid-cols-3 gap-10 items-center">
                    <div class="lg:col-span-2">
                        <span class="inline-block bg-gold-500 text-white text-xs font-semibold uppercase tracking-wide px-3 py-1 rounded-full mb-4">Evita errores</span>
                        <h1 class="font-display text-3xl md:text-4xl lg:text-5xl font-semibold text-warm-900 leading-tight mb-4">Gu√≠a para evitar comisiones ocultas</h1>
                        <p class="text-lg text-warm-600">Checklist completo de qu√© revisar antes de cada transferencia internacional.</p>
                    </div>
                    <div class="hidden lg:block">
                        <div class="illustration-circle" style="background: linear-gradient(135deg, #FEF9E7, #FCF0C3);">
                            <svg class="w-24 h-24 text-gold-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="py-12 md:py-16 section-cream">
            <div class="container mx-auto px-5 md:px-8">
                <div class="article-content">
                    <p><strong>"¬°Env√≠a dinero GRATIS!"</strong>, <strong>"0% de comisi√≥n"</strong>... Seguramente has visto estos anuncios cientos de veces. Pero aqu√≠ viene la pregunta inc√≥moda: si no cobran comisi√≥n, ¬øc√≥mo ganan dinero estas empresas?</p>
                    
                    <p>La respuesta est√° en lo que llamamos <strong>comisiones ocultas</strong>: costos que no ves a primera vista pero que reducen significativamente lo que recibe tu familia.</p>
                    
                    <h2>Las 3 formas m√°s comunes de comisiones ocultas</h2>
                    
                    <h3>1. El margen en el tipo de cambio</h3>
                    <p>Es la m√°s com√∫n y la menos visible. La empresa te ofrece un tipo de cambio peor que el del mercado real. La diferencia (que puede ser del 2% al 5%) es su ganancia.</p>
                    
                    <h3>2. Comisiones del banco receptor</h3>
                    <p>Algunas transferencias llegan al banco destino, que cobra una comisi√≥n adicional antes de entregar el dinero. Esto rara vez se menciona al inicio.</p>
                    
                    <h3>3. Costos por m√©todo de pago/entrega</h3>
                    <p>Pagar con tarjeta de cr√©dito suele tener recargo. Recibir en efectivo puede costar m√°s que en cuenta bancaria. Estos extras se suman.</p>
                    
                    <div class="callout callout-warning">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                            Ojo con esto
                        </div>
                        <p>Un servicio que anuncia "0% comisi√≥n" pero usa un tipo de cambio 3% peor que el mercado, <strong>en realidad te est√° cobrando un 3% de comisi√≥n</strong>. Solo que no lo llaman as√≠.</p>
                    </div>
                    
                    <h2>Tu checklist antes de cada env√≠o</h2>
                    
                    <div class="checklist">
                        <div class="checklist-item">
                            <div class="checklist-icon">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <div>
                                <strong>Compara el tipo de cambio con Google</strong>
                                <p class="text-sm text-warm-600 mt-1">Busca "EUR a [moneda destino]" y compara con la tasa que te ofrecen. Diferencias mayores al 1% son una se√±al de alerta.</p>
                            </div>
                        </div>
                        
                        <div class="checklist-item">
                            <div class="checklist-icon">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <div>
                                <strong>Mira el monto FINAL que recibir√°n</strong>
                                <p class="text-sm text-warm-600 mt-1">No te fijes solo en la comisi√≥n. Lo que importa es cu√°ntos pesos/bol√≠vares/soles llegan al final.</p>
                            </div>
                        </div>
                        
                        <div class="checklist-item">
                            <div class="checklist-icon">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <div>
                                <strong>Pregunta por comisiones del lado receptor</strong>
                                <p class="text-sm text-warm-600 mt-1">¬øEl banco o agente en destino cobra algo? ¬øHay l√≠mite de retiro diario en efectivo?</p>
                            </div>
                        </div>
                        
                        <div class="checklist-item">
                            <div class="checklist-icon">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <div>
                                <strong>Verifica el costo seg√∫n m√©todo de pago</strong>
                                <p class="text-sm text-warm-600 mt-1">Transferencia bancaria suele ser m√°s barato que tarjeta. Revisa antes de confirmar.</p>
                            </div>
                        </div>
                        
                        <div class="checklist-item">
                            <div class="checklist-icon">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <div>
                                <strong>Lee las "tarifas" o "fees" en la letra peque√±a</strong>
                                <p class="text-sm text-warm-600 mt-1">A veces hay comisiones por cancelaci√≥n, por montos peque√±os, o por ciertos pa√≠ses.</p>
                            </div>
                        </div>
                        
                        <div class="checklist-item">
                            <div class="checklist-icon">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <div>
                                <strong>Compara al menos 3 servicios</strong>
                                <p class="text-sm text-warm-600 mt-1">O mejor a√∫n, usa Manda Mejor para ver todos a la vez üòâ</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="callout callout-tip">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                            Consejo profesional
                        </div>
                        <p>Si env√≠as dinero regularmente, <strong>crea una hoja de c√°lculo simple</strong> donde anotes: fecha, servicio usado, monto enviado, monto recibido, y costo total (%). En pocos meses tendr√°s datos reales de cu√°l te conviene m√°s.</p>
                    </div>
                    
                    <h2>La regla de oro</h2>
                    
                    <p>Nunca te f√≠es de un solo n√∫mero. Una comisi√≥n de ‚Ç¨0 con un tipo de cambio malo puede ser peor que una comisi√≥n de ‚Ç¨5 con un tipo de cambio excelente.</p>
                    
                    <p><strong>Lo que importa al final es una sola pregunta: ¬øCu√°nto dinero llegar√° a las manos de mi familia?</strong></p>
                    
                    <div class="mt-12 text-center">
                        <button onclick="navigateHome()" class="btn-primary inline-flex items-center text-white font-semibold px-8 py-4">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Comparar servicios ahora
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================
         ARTICLE 3: 5 Errores
         ================================ -->
    <div id="article3" class="article-container">
        <div class="article-hero pt-24 pb-16 md:pt-28 md:pb-20">
            <div class="container mx-auto px-5 md:px-8 max-w-5xl">
                <button onclick="navigateHome()" class="back-btn mb-8">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    Volver a inicio
                </button>
                
                <div class="grid lg:grid-cols-3 gap-10 items-center">
                    <div class="lg:col-span-2">
                        <span class="inline-block bg-terra-500 text-white text-xs font-semibold uppercase tracking-wide px-3 py-1 rounded-full mb-4">Imprescindible</span>
                        <h1 class="font-display text-3xl md:text-4xl lg:text-5xl font-semibold text-warm-900 leading-tight mb-4">5 errores comunes al enviar remesas y c√≥mo evitarlos</h1>
                        <p class="text-lg text-warm-600">Estos errores pueden costarte cientos de euros al a√±o. La buena noticia: son f√°ciles de evitar.</p>
                    </div>
                    <div class="hidden lg:block">
                        <div class="illustration-circle" style="background: linear-gradient(135deg, rgba(201, 104, 74, 0.1), rgba(224, 123, 91, 0.2));">
                            <svg class="w-24 h-24 text-terra-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="py-12 md:py-16 section-cream">
            <div class="container mx-auto px-5 md:px-8">
                <div class="article-content">
                    <p>Despu√©s de analizar cientos de transferencias y hablar con decenas de personas que env√≠an dinero regularmente, hemos identificado los <strong>5 errores m√°s costosos</strong> que se repiten una y otra vez. ¬øTe identificas con alguno?</p>
                    
                    <!-- Error 1 -->
                    <div class="error-card">
                        <h3 class="flex items-center font-display text-xl font-semibold text-warm-900 mb-3">
                            <span class="error-number">1</span>
                            Usar siempre el mismo servicio "por costumbre"
                        </h3>
                        <p class="text-warm-600 mb-3">Es c√≥modo, ya tienes la cuenta creada, ya sabes c√≥mo funciona... Pero las condiciones cambian constantemente. El servicio que era el mejor hace 6 meses puede ser hoy uno de los m√°s caros.</p>
                        <div class="solution-box">
                            <p class="text-sm text-teal-800"><strong>‚úì Soluci√≥n:</strong> Compara al menos una vez al mes. No tienes que cambiar de servicio cada vez, pero s√≠ verificar que sigues con la mejor opci√≥n.</p>
                        </div>
                    </div>
                    
                    <!-- Error 2 -->
                    <div class="error-card">
                        <h3 class="flex items-center font-display text-xl font-semibold text-warm-900 mb-3">
                            <span class="error-number">2</span>
                            Fijarse solo en la comisi√≥n visible
                        </h3>
                        <p class="text-warm-600 mb-3">"Este cobra ‚Ç¨2 y aquel cobra ‚Ç¨5, obvio elijo el de ‚Ç¨2". Pero si el de ‚Ç¨2 usa un tipo de cambio 3% peor, en un env√≠o de ‚Ç¨500 est√°s perdiendo ‚Ç¨15 adicionales. Total: ‚Ç¨17 vs ‚Ç¨5.</p>
                        <div class="solution-box">
                            <p class="text-sm text-teal-800"><strong>‚úì Soluci√≥n:</strong> Mira siempre el monto final que recibir√° tu familia. Es el √∫nico n√∫mero que importa.</p>
                        </div>
                    </div>
                    
                    <!-- Error 3 -->
                    <div class="error-card">
                        <h3 class="flex items-center font-display text-xl font-semibold text-warm-900 mb-3">
                            <span class="error-number">3</span>
                            Enviar montos peque√±os con demasiada frecuencia
                        </h3>
                        <p class="text-warm-600 mb-3">Muchos servicios cobran una comisi√≥n fija por transacci√≥n. Si env√≠as ‚Ç¨100 cuatro veces al mes pagando ‚Ç¨3 cada vez (‚Ç¨12 total), es mejor enviar ‚Ç¨400 una vez y pagar solo ‚Ç¨3.</p>
                        <div class="solution-box">
                            <p class="text-sm text-teal-800"><strong>‚úì Soluci√≥n:</strong> Si es posible, agrupa tus env√≠os. Enviar ‚Ç¨400-‚Ç¨500 una vez al mes suele ser m√°s eficiente que varios env√≠os peque√±os.</p>
                        </div>
                    </div>
                    
                    <!-- Error 4 -->
                    <div class="error-card">
                        <h3 class="flex items-center font-display text-xl font-semibold text-warm-900 mb-3">
                            <span class="error-number">4</span>
                            No verificar el tipo de cambio del d√≠a
                        </h3>
                        <p class="text-warm-600 mb-3">Las divisas fluct√∫an. A veces un 1-2% en una semana. Si necesitas enviar dinero pero no es urgente, puede valer la pena esperar unos d√≠as si la tasa est√° especialmente baja.</p>
                        <div class="solution-box">
                            <p class="text-sm text-teal-800"><strong>‚úì Soluci√≥n:</strong> Usa nuestro indicador de "An√°lisis de mercado" para ver si la tasa actual est√° por encima o por debajo del promedio reciente.</p>
                        </div>
                    </div>
                    
                    <!-- Error 5 -->
                    <div class="error-card">
                        <h3 class="flex items-center font-display text-xl font-semibold text-warm-900 mb-3">
                            <span class="error-number">5</span>
                            Pagar con tarjeta de cr√©dito sin saberlo
                        </h3>
                        <p class="text-warm-600 mb-3">Muchos servicios cobran un recargo del 1-3% si pagas con tarjeta de cr√©dito en lugar de transferencia bancaria o d√©bito. Es f√°cil no darse cuenta si no lees los detalles.</p>
                        <div class="solution-box">
                            <p class="text-sm text-teal-800"><strong>‚úì Soluci√≥n:</strong> Siempre revisa el m√©todo de pago antes de confirmar. La transferencia bancaria directa suele ser la opci√≥n m√°s econ√≥mica.</p>
                        </div>
                    </div>
                    
                    <div class="callout callout-tip">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                            El impacto real
                        </div>
                        <p>Si env√≠as ‚Ç¨500 mensuales y optimizas un 3% (pasando de un servicio caro a uno eficiente), <strong>tu familia recibe ‚Ç¨180 m√°s al a√±o</strong>. Eso son compras del supermercado, medicinas, o un regalo especial.</p>
                    </div>
                    
                    <h2>Resumen: Tu plan de acci√≥n</h2>
                    
                    <ol>
                        <li><strong>Compara</strong> servicios regularmente (Manda Mejor te lo pone f√°cil)</li>
                        <li><strong>Mira</strong> el monto final, no solo la comisi√≥n</li>
                        <li><strong>Agrupa</strong> env√≠os cuando sea posible</li>
                        <li><strong>Monitorea</strong> el tipo de cambio</li>
                        <li><strong>Paga</strong> con transferencia bancaria</li>
                    </ol>
                    
                    <p>Peque√±os cambios, grandes resultados. Tu familia lo merece. üíö</p>
                    
                    <div class="mt-12 text-center">
                        <button onclick="navigateHome()" class="btn-primary inline-flex items-center text-white font-semibold px-8 py-4">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Comparar servicios ahora
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================
         ARTICLE 4: Mejor momento
         ================================ -->
    <div id="article4" class="article-container">
        <div class="article-hero pt-24 pb-16 md:pt-28 md:pb-20">
            <div class="container mx-auto px-5 md:px-8 max-w-5xl">
                <button onclick="navigateHome()" class="back-btn mb-8">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    Volver a inicio
                </button>
                
                <div class="grid lg:grid-cols-3 gap-10 items-center">
                    <div class="lg:col-span-2">
                        <span class="inline-block bg-teal-600 text-white text-xs font-semibold uppercase tracking-wide px-3 py-1 rounded-full mb-4">Consejos</span>
                        <h1 class="font-display text-3xl md:text-4xl lg:text-5xl font-semibold text-warm-900 leading-tight mb-4">Cu√°ndo es el mejor momento para enviar dinero</h1>
                        <p class="text-lg text-warm-600">Entender el timing puede ahorrarte dinero sin cambiar de servicio.</p>
                    </div>
                    <div class="hidden lg:block">
                        <div class="illustration-circle">
                            <svg class="w-24 h-24 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="py-12 md:py-16 section-cream">
            <div class="container mx-auto px-5 md:px-8">
                <div class="article-content">
                    <p>Vamos a ser honestos desde el principio: <strong>nadie puede predecir el mercado de divisas con certeza</strong>. Ni los bancos, ni los economistas, ni mucho menos una app. Pero s√≠ hay patrones y consejos pr√°cticos que pueden ayudarte.</p>
                    
                    <div class="callout callout-warning">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                            Importante
                        </div>
                        <p>Si tu familia necesita el dinero con urgencia, <strong>env√≠alo</strong>. No vale la pena arriesgar su bienestar por intentar "ganarle" al mercado. Estos consejos son para cuando tienes flexibilidad.</p>
                    </div>
                    
                    <h2>Lo que S√ç sabemos sobre el timing</h2>
                    
                    <h3>Los lunes suelen ser m√°s vol√°tiles</h3>
                    <p>El mercado de divisas "despierta" el lunes con todas las noticias del fin de semana. Esto puede causar movimientos bruscos. Si no tienes prisa, esperar al martes o mi√©rcoles puede darte una tasa m√°s estable.</p>
                    
                    <h3>Eventos econ√≥micos importantes afectan las tasas</h3>
                    <p>Decisiones del Banco Central Europeo, datos de inflaci√≥n de EE.UU., elecciones en pa√≠ses latinoamericanos... Todos estos eventos pueden mover las divisas. Si sabes que viene un evento importante, puede ser prudente enviar antes o esperar a que pase la volatilidad.</p>
                    
                    <h3>Final e inicio de mes pueden ser diferentes</h3>
                    <p>Muchas personas env√≠an dinero a principios de mes (para gastos de sus familias). Esta mayor demanda a veces afecta ligeramente las tasas. No es una regla fija, pero vale la pena observar el patr√≥n en tu corredor espec√≠fico.</p>
                    
                    <div class="callout callout-tip">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                            C√≥mo usar Manda Mejor para el timing
                        </div>
                        <p>Nuestro indicador de <strong>"An√°lisis de mercado"</strong> compara la tasa actual con el promedio de los √∫ltimos 14 d√≠as. Si ves un emoji de üöÄ y "Tasa excelente", significa que hoy el tipo de cambio est√° mejor que lo habitual. Buen momento para enviar.</p>
                    </div>
                    
                    <h2>Estrategias pr√°cticas</h2>
                    
                    <h3>1. Establece un "precio objetivo"</h3>
                    <p>Si normalmente el euro se cambia a 4.300 pesos colombianos y hoy est√° a 4.450, es una buena oportunidad. Define tu umbral y act√∫a cuando lo veas.</p>
                    
                    <h3>2. Divide env√≠os grandes</h3>
                    <p>Si vas a enviar ‚Ç¨2.000, considera dividirlo en 2-4 env√≠os a lo largo de varias semanas. As√≠ promedias el tipo de cambio y reduces el riesgo de enviar todo en un mal momento.</p>
                    
                    <h3>3. Ten el dinero listo</h3>
                    <p>Cuando veas una buena tasa, no quieres perder tiempo buscando tu tarjeta o configurando la cuenta. Ten todo preparado para actuar r√°pido.</p>
                    
                    <div class="callout callout-example">
                        <div class="callout-title">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Ejemplo real
                        </div>
                        <p>Mar√≠a env√≠a ‚Ç¨400 mensuales a Venezuela. En lugar de enviar siempre el d√≠a 1, empez√≥ a revisar Manda Mejor durante la primera semana y enviar cuando ve√≠a una tasa por encima del promedio.</p>
                        <p>Resultado: <strong>su familia recibi√≥ un 2% m√°s</strong> en promedio durante 6 meses. Eso son unos ‚Ç¨48 extra al a√±o, sin cambiar de servicio.</p>
                    </div>
                    
                    <h2>Conclusi√≥n: S√© pragm√°tico</h2>
                    
                    <p>El timing puede ayudarte, pero no te obsesiones. La diferencia entre un d√≠a bueno y uno malo rara vez supera el 2-3%. Elegir el servicio correcto tiene mucho m√°s impacto (puede ser 5-10% de diferencia).</p>
                    
                    <p><strong>Prioridades:</strong></p>
                    <ol>
                        <li>Usa el servicio m√°s eficiente (mayor impacto)</li>
                        <li>Si tienes flexibilidad, busca un buen momento (impacto moderado)</li>
                        <li>Si es urgente, env√≠a sin preocuparte (tu familia es lo primero)</li>
                    </ol>
                    
                    <div class="mt-12 text-center">
                        <button onclick="navigateHome()" class="btn-primary inline-flex items-center text-white font-semibold px-8 py-4">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Ver an√°lisis de mercado actual
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================
         FOOTER (Always visible)
         ================================ -->
    <footer class="bg-teal-900 text-white py-10 md:py-12">
        <div class="container mx-auto px-5 md:px-8 max-w-5xl">
            <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                <div class="flex items-center space-x-3">
                    <div class="w-9 h-9 bg-white/10 rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </div>
                    <span class="text-lg font-semibold font-display">Manda Mejor</span>
                </div>
                
                <div class="text-center md:text-right">
                    <p class="text-white/40 text-sm mb-1">Datos: Banco Central Europeo</p>
                    <p class="text-white/60 text-sm">¬© <span id="year"></span> ¬∑ Desarrollado por <span class="text-white font-medium">Ariana Acosta</span></p>
                </div>
            </div>
        </div>
    </footer>

    <!-- ================================
         JAVASCRIPT
         ================================ -->
    <script>
        // === NAVIGATION SPA ===
        function showArticle(articleId) {
            document.getElementById('homeContent').style.display = 'none';
            document.querySelectorAll('.article-container').forEach(a => a.classList.remove('active'));
            document.getElementById(articleId).classList.add('active');
            document.getElementById('navbar').classList.add('article-mode');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function navigateHome() {
            document.querySelectorAll('.article-container').forEach(a => a.classList.remove('active'));
            document.getElementById('homeContent').style.display = 'block';
            document.getElementById('navbar').classList.remove('article-mode');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // === MOBILE MENU ===
        function openMobileMenu() {
            document.getElementById('mobileMenu').classList.add('open');
            document.getElementById('mobileOverlay').classList.add('open');
            document.body.style.overflow = 'hidden';
        }
        
        function closeMobileMenu() {
            document.getElementById('mobileMenu').classList.remove('open');
            document.getElementById('mobileOverlay').classList.remove('open');
            document.body.style.overflow = '';
        }
        
        // === STICKY HEADER ===
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => { 
            if (!navbar.classList.contains('article-mode')) {
                navbar.classList.toggle('scrolled', window.pageYOffset > 50); 
            }
        });
        
        // === REVEAL ANIMATIONS ===
        const revealElements = document.querySelectorAll('.reveal, .stagger');
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
        }, { threshold: 0.1, rootMargin: '-20px' });
        revealElements.forEach(el => revealObserver.observe(el));
        
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.reveal').forEach(el => {
                if (el.getBoundingClientRect().top < window.innerHeight) {
                    setTimeout(() => el.classList.add('active'), 100);
                }
            });
        });
        
        // === DROPDOWN ===
        function toggleDropdown() {
            document.getElementById('custom-dropdown-list').classList.toggle('hidden');
            document.getElementById('dropdown-arrow-icon').classList.toggle('rotate-180');
        }
        
        function selectCountry(code, flag, name) {
            document.getElementById('destination').value = code;
            document.getElementById('current-flag-img').src = `https://flagcdn.com/w40/${flag}.png`;
            document.getElementById('current-country-text').textContent = name;
            toggleDropdown();
            document.getElementById('destination').dispatchEvent(new Event('change'));
        }
        
        document.addEventListener('click', (e) => {
            const container = document.getElementById('custom-select-container');
            if (container && !container.contains(e.target)) {
                document.getElementById('custom-dropdown-list')?.classList.add('hidden');
                document.getElementById('dropdown-arrow-icon')?.classList.remove('rotate-180');
            }
        });
        
        // === YEAR ===
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // === CALCULATOR LOGIC ===
        const FALLBACK_EXCHANGE_RATES = { VES: 449.79, COP: 4294.62, ARS: 1700.46, PEN: 3.97, USD_EC: 1.18, DOP: 74.41 };
        let EXCHANGE_RATES = { ...FALLBACK_EXCHANGE_RATES };
        let lastRateUpdate = null;
        let ratesLoadedFromAPI = false;
        let currentFrequency = 'monthly';

        const CURRENCY_SYMBOLS = { VES: 'Bs', COP: '$', ARS: '$', PEN: 'S/', USD_EC: '$', DOP: 'RD$' };
        const CURRENCY_NAMES = { VES: 'Bol√≠vares', COP: 'Pesos colombianos', ARS: 'Pesos argentinos', PEN: 'Soles', USD_EC: 'D√≥lares', DOP: 'Pesos dominicanos' };

        const REMITTANCE_SERVICES = {
            wise: { name: 'Wise', logo: 'üî∑', fees: { once: { percentage: 0.59, fixed: 0.41 }, monthly: { percentage: 0.59, fixed: 0.41 }, annual: { percentage: 0.59, fixed: 0.41 } }, exchangeMarkup: 0, speed: '< 24h' },
            remitly: { name: 'Remitly', logo: 'üíú', fees: { once: { percentage: 0, fixed: 3.99 }, monthly: { percentage: 0, fixed: 1.99 }, annual: { percentage: 0, fixed: 1.49 } }, exchangeMarkup: 2.2, speed: 'Instant√°neo' },
            westernunion: { name: 'Western Union', logo: 'üü°', fees: { once: { percentage: 0, fixed: 4.90 }, monthly: { percentage: 0, fixed: 4.90 }, annual: { percentage: 0, fixed: 3.99 } }, exchangeMarkup: 4.2, speed: 'Minutos' },
            worldremit: { name: 'WorldRemit', logo: 'üî¥', fees: { once: { percentage: 0, fixed: 3.99 }, monthly: { percentage: 0, fixed: 2.99 }, annual: { percentage: 0, fixed: 0.99 } }, exchangeMarkup: 2.0, speed: 'Minutos' },
            xoom: { name: 'Xoom', logo: 'üîµ', fees: { once: { percentage: 0, fixed: 4.99 }, monthly: { percentage: 0, fixed: 4.99 }, annual: { percentage: 0, fixed: 3.99 } }, exchangeMarkup: 3.5, speed: '30 min' },
            ria: { name: 'Ria', logo: 'üü†', fees: { once: { percentage: 0, fixed: 3.99 }, monthly: { percentage: 0, fixed: 3.99 }, annual: { percentage: 0, fixed: 2.99 } }, exchangeMarkup: 2.8, speed: 'Minutos' }
        };

        function generateRealisticHistoricalData(currency, today) {
            const currentRate = EXCHANGE_RATES[currency];
            const volatilityMap = { 'VES': 0.008, 'ARS': 0.006, 'COP': 0.004, 'PEN': 0.003, 'USD_EC': 0.002, 'DOP': 0.003 };
            const dailyVol = volatilityMap[currency] || 0.004;
            const historicalRates = [];
            const trendBias = (Math.random() - 0.5) * 0.006;
            for (let i = 14; i >= 1; i--) {
                const date = new Date(today); date.setDate(today.getDate() - i);
                const dailyChange = (Math.random() - 0.5) * 2 * dailyVol + (-trendBias * (i / 14));
                historicalRates.push({ date: date.toISOString().split('T')[0], rate: currentRate * (1 + dailyChange) });
            }
            const sma14 = historicalRates.reduce((acc, e) => acc + e.rate, 0) / historicalRates.length;
            const todayRate = currentRate * (1 + (Math.random() - 0.5) * dailyVol * 2);
            return { success: true, sma14, todayRate, daysUsed: 14, dataSource: 'Simulaci√≥n' };
        }

        async function fetchAndCalculateSMA14(currency) {
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            if (!ratesLoadedFromAPI) await fetchLiveExchangeRates();
            try {
                const startDate = new Date(today); startDate.setDate(today.getDate() - 15);
                const currencyKey = currency === 'USD_EC' ? 'USD' : currency;
                const url = `https://api.frankfurter.app/${startDate.toISOString().split('T')[0]}..${todayStr}?from=EUR&to=${currencyKey}`;
                const controller = new AbortController(); setTimeout(() => controller.abort(), 5000);
                const response = await fetch(url, { signal: controller.signal });
                if (response.ok) {
                    const data = await response.json();
                    if (data.rates && Object.keys(data.rates).length >= 10) {
                        const allRates = Object.entries(data.rates).map(([date, r]) => ({ date, rate: r[currencyKey] })).filter(e => e.rate);
                        allRates.sort((a, b) => new Date(a.date) - new Date(b.date));
                        const todayRate = allRates.find(e => e.date === todayStr)?.rate || allRates[allRates.length - 1].rate;
                        const historical = allRates.filter(e => e.date !== todayStr).slice(-14);
                        if (historical.length >= 10) {
                            const sma14 = historical.reduce((acc, e) => acc + e.rate, 0) / historical.length;
                            return { success: true, sma14, todayRate, daysUsed: historical.length, dataSource: 'BCE' };
                        }
                    }
                }
            } catch (e) {}
            return generateRealisticHistoricalData(currency, today);
        }

        async function analyzeMarketPulse(currency) {
            const smaData = await fetchAndCalculateSMA14(currency);
            const { todayRate: currentRate, sma14 } = smaData;
            const percentageDiff = ((currentRate - sma14) / sma14) * 100;
            let status, emoji, message, recommendation;
            if (percentageDiff > 1.5) { status = 'excellent'; emoji = 'üöÄ'; message = 'Tasa excelente'; recommendation = 'La tasa est√° por encima del promedio. Buen momento para enviar.'; }
            else if (percentageDiff < -1.5) { status = 'low'; emoji = '‚è≥'; message = 'Tasa baja'; recommendation = 'Si no es urgente, podr√≠as esperar a una mejor tasa.'; }
            else { status = 'stable'; emoji = '‚úì'; message = 'Tasa estable'; recommendation = 'El mercado est√° en rangos normales.'; }
            return { status, emoji, message, recommendation, currentRate, sma14, percentageDiff, daysOfHistory: smaData.daysUsed, dataSource: smaData.dataSource };
        }

        async function fetchLiveExchangeRates() {
            const apis = [
                { name: 'ExchangeRate-API', url: 'https://api.exchangerate-api.com/v4/latest/EUR', parser: d => d.rates ? { VES: d.rates.VES, COP: d.rates.COP, ARS: d.rates.ARS, PEN: d.rates.PEN, USD_EC: d.rates.USD, DOP: d.rates.DOP } : null },
                { name: 'Frankfurter', url: 'https://api.frankfurter.app/latest?from=EUR', parser: d => d.rates ? { VES: d.rates.VES || FALLBACK_EXCHANGE_RATES.VES, COP: d.rates.COP, ARS: d.rates.ARS, PEN: d.rates.PEN, USD_EC: d.rates.USD, DOP: d.rates.DOP } : null }
            ];
            for (const api of apis) {
                try {
                    const controller = new AbortController(); setTimeout(() => controller.abort(), 5000);
                    const response = await fetch(api.url, { signal: controller.signal });
                    if (!response.ok) throw new Error();
                    const data = await response.json();
                    const rates = api.parser(data);
                    if (rates && rates.COP) {
                        EXCHANGE_RATES = { ...FALLBACK_EXCHANGE_RATES, ...rates };
                        lastRateUpdate = new Date();
                        ratesLoadedFromAPI = true;
                        updateRateIndicator(true);
                        return true;
                    }
                } catch (e) {}
            }
            ratesLoadedFromAPI = false; updateRateIndicator(false); return false;
        }

        function updateRateIndicator(isLive) {
            const indicator = document.getElementById('rateIndicator');
            if (!indicator) return;
            if (isLive) {
                const time = lastRateUpdate?.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }) || 'ahora';
                indicator.innerHTML = `<svg class="w-4 h-4 text-teal-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-xs text-warm-600">Tasas actualizadas: ${time}</span>`;
            } else {
                indicator.innerHTML = `<svg class="w-4 h-4 text-terra-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg><span class="text-xs text-terra-600">Tasas de referencia</span>`;
            }
        }

        async function updateMarketPulse(currency) {
            const marketPulse = document.getElementById('marketPulse'); marketPulse.style.display = 'block';
            document.getElementById('pulseTitle').textContent = 'Analizando...';
            document.getElementById('pulseRecommendation').textContent = 'Cargando datos...';
            const pulse = await analyzeMarketPulse(currency);
            EXCHANGE_RATES[currency] = pulse.currentRate;
            const statusBadge = document.getElementById('pulseStatus');
            const thermometerFill = document.getElementById('thermometerFill');
            const pulseMessage = document.getElementById('pulseMessage');
            if (pulse.status === 'excellent') {
                statusBadge.className = 'px-3 py-1.5 rounded-lg text-xs font-medium bg-teal-500 text-white'; statusBadge.textContent = 'üöÄ Excelente';
                thermometerFill.style.background = 'linear-gradient(90deg, #14B8A6, #2DD4BF)'; pulseMessage.className = 'alert-excellent rounded-xl p-4';
            } else if (pulse.status === 'low') {
                statusBadge.className = 'px-3 py-1.5 rounded-lg text-xs font-medium bg-terra-500 text-white'; statusBadge.textContent = '‚è≥ Esperar';
                thermometerFill.style.background = 'linear-gradient(90deg, #E07B5B, #C9684A)'; pulseMessage.className = 'alert-low rounded-xl p-4';
            } else {
                statusBadge.className = 'px-3 py-1.5 rounded-lg text-xs font-medium bg-gold-400 text-warm-800'; statusBadge.textContent = '‚úì Normal';
                thermometerFill.style.background = 'linear-gradient(90deg, #F6D055, #EAB308)'; pulseMessage.className = 'alert-stable rounded-xl p-4';
            }
            thermometerFill.style.width = Math.max(5, Math.min(95, 50 + pulse.percentageDiff * 10)) + '%';
            document.getElementById('pulseEmoji').textContent = pulse.emoji;
            document.getElementById('pulseTitle').textContent = pulse.message;
            document.getElementById('pulseRecommendation').textContent = pulse.recommendation;
            document.getElementById('currentRateDisplay').textContent = formatCurrency(pulse.currentRate, 2);
            document.getElementById('avgRateDisplay').textContent = formatCurrency(pulse.sma14, 2);
            document.getElementById('historyDays').textContent = `SMA-${pulse.daysOfHistory}: ${pulse.daysOfHistory} d√≠as (${pulse.dataSource})`;
            document.getElementById('savingsImpact').style.display = 'none';
            return pulse;
        }

        function updateSavingsImpact(amount, currency, pulse) {
            const diff = (amount * pulse.currentRate) - (amount * pulse.sma14);
            const symbol = CURRENCY_SYMBOLS[currency];
            const el = document.getElementById('savingsImpact');
            const text = document.getElementById('savingsText');
            if (Math.abs(diff) < 1) { el.style.display = 'none'; return; }
            el.style.display = 'block';
            if (diff > 0) {
                text.innerHTML = `Enviando <strong>‚Ç¨${formatCurrency(amount)}</strong> hoy, tu familia recibe <strong class="text-teal-700">${symbol}${formatCurrency(Math.abs(diff), 0)} m√°s</strong> que el promedio.`;
                el.className = 'mt-4 bg-teal-50 rounded-xl p-4 border border-teal-100';
            } else {
                text.innerHTML = `Hoy recibir√≠an <strong class="text-terra-600">${symbol}${formatCurrency(Math.abs(diff), 0)} menos</strong> que el promedio.`;
                el.className = 'mt-4 bg-terra-400/10 rounded-xl p-4 border border-terra-400/20';
            }
        }

        async function refreshHistoricalData() {
            const btn = document.getElementById('refreshHistoryBtn');
            btn.textContent = '‚è≥'; btn.disabled = true;
            try { await updateMarketPulse(document.getElementById('destination').value); btn.textContent = '‚úì'; }
            catch (e) { btn.textContent = '‚úï'; }
            setTimeout(() => { btn.textContent = '‚Üª Actualizar'; btn.disabled = false; }, 2000);
        }

        function formatCurrency(amount, decimals = 2) {
            return new Intl.NumberFormat('es-ES', { minimumFractionDigits: decimals, maximumFractionDigits: decimals }).format(amount);
        }

        function setFrequency(freq) {
            currentFrequency = freq;
            document.querySelectorAll('.freq-btn').forEach(btn => btn.classList.remove('freq-active'));
            document.getElementById(`btn-${freq}`).classList.add('freq-active');
        }

        function calculateRemittance(amount, currency, serviceKey, frequency) {
            const service = REMITTANCE_SERVICES[serviceKey];
            const baseRate = EXCHANGE_RATES[currency];
            const fees = service.fees[frequency];
            const totalFee = (amount * fees.percentage / 100) + fees.fixed;
            const effectiveRate = baseRate * (1 - service.exchangeMarkup / 100);
            const recipientReceives = (amount - totalFee) * effectiveRate;
            const totalCost = (amount * baseRate) - recipientReceives;
            return { service: service.name, logo: service.logo, speed: service.speed, explicitFee: totalFee, exchangeRate: effectiveRate, exchangeMarkup: service.exchangeMarkup, recipientReceives, totalCost, effectiveFeePercentage: (totalCost / (amount * baseRate)) * 100 };
        }

        function compareAllServices(amount, currency, frequency) {
            return Object.keys(REMITTANCE_SERVICES).map(key => ({ serviceKey: key, ...calculateRemittance(amount, currency, key, frequency) })).sort((a, b) => b.recipientReceives - a.recipientReceives);
        }

        async function calculateRemittances() {
            const amount = parseFloat(document.getElementById('amount').value);
            const currency = document.getElementById('destination').value;
            if (!ratesLoadedFromAPI) { alert('Recarga la p√°gina para obtener tasas actuales.'); return; }
            if (!amount || amount < 10 || amount > 10000) { alert('Ingresa un monto entre ‚Ç¨10 y ‚Ç¨10,000'); return; }
            const btn = document.getElementById('calculateBtn');
            const btnText = document.getElementById('btnText');
            const btnArrow = document.getElementById('btnArrow');
            const btnLoader = document.getElementById('btnLoader');
            btnText.classList.add('hidden'); btnArrow.classList.add('hidden'); btnLoader.classList.remove('hidden'); btn.disabled = true;
            try {
                const pulse = await updateMarketPulse(currency);
                updateSavingsImpact(amount, currency, pulse);
                const results = compareAllServices(amount, currency, currentFrequency);
                renderResults(results, currency, amount);
                document.getElementById('resultsSection').classList.remove('hidden');
                document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
            } catch (e) { console.error(e); alert('Error. Intenta de nuevo.'); }
            finally { btnText.classList.remove('hidden'); btnArrow.classList.remove('hidden'); btnLoader.classList.add('hidden'); btn.disabled = false; }
        }

        function renderResults(results, currency, amount) {
            const symbol = CURRENCY_SYMBOLS[currency];
            const name = CURRENCY_NAMES[currency];
            const best = results[0];
            const worst = results[results.length - 1];
            let multiplier = 1, periodText = 'este env√≠o';
            if (currentFrequency === 'monthly') { multiplier = 12; periodText = 'al a√±o'; }
            else if (currentFrequency === 'annual') { multiplier = 12; periodText = 'tus 12 env√≠os'; }
            const annualSavingsEUR = (worst.totalCost - best.totalCost) * multiplier;

            document.getElementById('summaryCard').innerHTML = `
                <div class="flex items-start space-x-4">
                    <div class="w-12 h-12 bg-gradient-to-br from-teal-100 to-teal-200 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-teal-500/15"><span class="text-2xl">üèÜ</span></div>
                    <div class="flex-1">
                        <p class="text-xs font-medium text-teal-600 mb-1">Mejor opci√≥n</p>
                        <h3 class="font-display text-xl md:text-2xl font-semibold text-warm-800">${best.service}</h3>
                        <p class="text-warm-600 mt-2">Tu familia recibe <span class="font-display font-semibold text-2xl md:text-3xl text-teal-600">${symbol}${formatCurrency(best.recipientReceives, 0)}</span> <span class="text-sm">${name}</span></p>
                        ${annualSavingsEUR > 0 ? `<div class="mt-3 bg-teal-50 rounded-lg p-3 border border-teal-100"><p class="text-warm-800 text-sm"><strong>Ahorro ${periodText}:</strong> <span class="text-teal-600 font-semibold">‚Ç¨${formatCurrency(annualSavingsEUR)}</span> vs la peor opci√≥n</p></div>` : ''}
                    </div>
                </div>
            `;

            document.getElementById('resultsGrid').innerHTML = results.map((result, i) => {
                const isBest = i === 0;
                const diff = best.recipientReceives - result.recipientReceives;
                return `
                    <div class="result-card p-4 ${isBest ? 'best-deal relative' : ''}">
                        ${isBest ? `<span class="badge-best absolute -top-2.5 -right-2.5">Mejor</span>` : ''}
                        <div class="flex items-center justify-between mb-3">
                            <div class="flex items-center space-x-2"><span class="text-xl">${result.logo}</span><h4 class="font-semibold text-warm-800 text-sm">${result.service}</h4></div>
                            <span class="text-xs bg-warm-100 text-warm-600 px-2 py-1 rounded-lg">${result.speed}</span>
                        </div>
                        <div class="bg-teal-50 rounded-lg p-3 mb-3">
                            <p class="text-xs text-warm-500 mb-0.5">Reciben</p>
                            <p class="text-xl font-semibold text-warm-800">${symbol}${formatCurrency(result.recipientReceives, 0)}</p>
                        </div>
                        <div class="space-y-1.5 text-xs">
                            <div class="flex justify-between"><span class="text-warm-500">Comisi√≥n:</span><span class="font-medium text-warm-800">‚Ç¨${formatCurrency(result.explicitFee)}</span></div>
                            <div class="flex justify-between"><span class="text-warm-500">Tipo cambio:</span><span class="font-medium text-warm-800">${formatCurrency(result.exchangeRate, 2)}</span></div>
                            <div class="flex justify-between"><span class="text-warm-500">Margen oculto:</span><span class="font-medium text-terra-500">${result.exchangeMarkup}%</span></div>
                            <div class="border-t border-warm-200 pt-1.5 mt-1.5 flex justify-between"><span class="font-medium text-warm-800">Costo total:</span><span class="font-semibold text-terra-500">${formatCurrency(result.effectiveFeePercentage, 2)}%</span></div>
                        </div>
                        ${!isBest && diff > 0 ? `<div class="mt-3 bg-gold-100 rounded-lg p-2 text-center text-xs"><span class="text-gold-700">-${symbol}${formatCurrency(diff, 0)} vs ${best.service}</span></div>` : ''}
                    </div>
                `;
            }).join('');

            const avgFee = results.reduce((s, r) => s + r.effectiveFeePercentage, 0) / results.length;
            document.getElementById('insightText').innerHTML = `La comisi√≥n promedio es <strong>${formatCurrency(avgFee, 2)}%</strong>, pero con <strong>${best.service}</strong> solo pagas <strong>${formatCurrency(best.effectiveFeePercentage, 2)}%</strong>. ${currentFrequency === 'monthly' ? `Enviando ‚Ç¨${formatCurrency(amount, 0)} mensualmente, ahorras <strong>‚Ç¨${formatCurrency(annualSavingsEUR)}</strong> al a√±o.` : ''} Wise usa el tipo de cambio real del mercado, por eso suele ser la mejor opci√≥n.`;
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            fetchLiveExchangeRates();
            document.getElementById('destination').addEventListener('change', async (e) => { if (ratesLoadedFromAPI) await updateMarketPulse(e.target.value); });
            document.getElementById('amount').addEventListener('keypress', (e) => { if (e.key === 'Enter') calculateRemittances(); });
        });
    </script>
</body>
</html>
